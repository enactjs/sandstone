// Switch.module.less
//
@import "../styles/mixins.less";
@import "../styles/variables.less";
@import "../styles/skin.less";

.switch {
	border-radius: @sand-toggleswitch-border-radius;
	width: @sand-toggleswitch-width;
	height: @sand-toggleswitch-height;
	line-height: @sand-toggleswitch-height;
	font-family: @sand-icon-font-family;
	position: relative;
	display: inline-block;
	text-align: left;
	cursor: default;

	.sand-custom-text({
		width: @sand-toggleswitch-width-large;
		height: @sand-toggleswitch-height-large;
		border-radius: (@sand-toggleswitch-height-large / 2);
	});

	.sand-taparea(@sand-toggleswitch-height);

	&::after {
		content: "";
		position: absolute;
		.position(50%, 0, 0, 50%);
		transform: translate3d(-50%, -50%, 0);
		width: 174px;
		height: 96px;
		border-radius: 12px;
		z-index: -1;
	}

	.icon {
		visibility: visible;
		left: 0;
		width: @sand-toggleswitch-height;
		height: inherit;
		font-size: (@sand-toggleswitch-height * 3);
		line-height: inherit;
		margin: 0;
	}

	&.selected {
		.icon {
			left: (@sand-toggleswitch-width - @sand-toggleswitch-height);

			.sand-custom-text({
				left: (@sand-toggleswitch-width-large - @sand-toggleswitch-height-large);
			});
		}
	}

	&.animated {
		-webkit-transition: background-color 0.2s;
		transition: background-color 0.2s;

		.icon {
			-webkit-transition: left 0.2s, color 0.2s;
			transition: left 0.2s, color 0.2s;
		}
	}

	// Skin colors
	.applySkins({
		background-color: @sand-checkbox-toggle-switch-bg-color;
		border: @sand-checkbox-toggle-switch-border-width solid @sand-checkbox-toggle-switch-border-color;

		&::after {
			background-color: @sand-checkbox-toggle-switch-after-bg-color;
		}

		.icon {
			background-color: transparent;
			color: @sand-checkbox-toggle-switch-color;
		}

		&.selected {
			background-color: @sand-checkbox-toggle-switch-selected-bg-color;
			border: @sand-checkbox-toggle-switch-border-width solid @sand-checkbox-toggle-switch-selected-border-color;
			.icon {
				color: @sand-checkbox-toggle-switch-selected-color;
			}
		}

		.disabled({
			background-color: @sand-checkbox-toggle-switch-bg-color;
			opacity: 0.4;

			&::after {
				opacity: 1;
			}

			.icon {
				color: @sand-checkbox-toggle-switch-color;
			}

			&.selected {
				border: @sand-checkbox-toggle-switch-border-width solid @sand-checkbox-toggle-switch-border-color;
			}


		});

		.focus({
			&::after {
				background-color: @sand-checkbox-toggle-switch-after-spotlight-bg-color;
				box-shadow: @sand-checkbox-toggle-switch-after-box-shadow;
			}

			.icon {
				color: @sand-checkbox-toggle-switch-spotlight-color;
			}

			&.selected {
				.icon {
					color: @sand-checkbox-toggle-switch-selected-color;
				}
			}
		});
	});
}

// When a parent is disabled
.disabled({
	.switch {
		.applySkins({
			background-color: @sand-checkbox-toggle-switch-bg-color;
			border: @sand-checkbox-toggle-switch-border-width solid @sand-checkbox-toggle-switch-border-color;

			&.selected {
				border: @sand-checkbox-toggle-switch-border-width solid @sand-checkbox-toggle-switch-border-color;
			}

			.icon {
				color: @sand-checkbox-toggle-switch-color;
			}
		});
	}
});

// Keep the switch handle (the icon) a constant color regardless of focus state.
.focus({
	.switch {
		// Skin colors
		.applySkins({
			.icon {
				color: @sand-checkbox-toggle-switch-spotlight-color;
			}

			&.selected {
				.icon {
					color: @sand-checkbox-toggle-switch-spotlight-selected-color;
				}
			}
		});
	}

	.disabled({
		.switch {
			.applySkins({
				opacity: @sand-disabled-opacity;

				background-color: @sand-checkbox-toggle-switch-bg-color;
				box-shadow: 0 0 0 @sand-checkbox-toggle-switch-border-width @sand-checkbox-toggle-switch-border-color;
			});
		}
	});
}, parent);
