@import "../styles/variables.less";
@import "../styles/skin.less";

.sliderFrame {
	@slider-padding-v: ((@sand-video-player-slider-tap-area - @sand-video-player-slider-height) / 2);
	@slider-padding-h: @sand-video-player-slider-knob-size;
	flex: 1 0 auto;

	&.hidden {
		will-change: opacity;
		opacity: 0;
	}

	.mediaSlider {
		margin: 0 @sand-video-player-slider-knob-size;
		padding: @slider-padding-v 0;
		height: @sand-video-player-slider-height;

		// Add a tap area that extends to the edges of the screen, to make the slider more accessible
		&::before {
			content: "";
			position: absolute;
			.position(0, -(@sand-video-player-padding-side));
		}

		// Grow the knob when the Slider gets spotted
		.focus({
			&.active,
			&.pressed {
				.knob::before {
					transform: @sand-translate-center scale(0.75);
					opacity: 1;
				}
			}
		});

		.spottable({
			&.pressed {
				.knob::before {
					transform: @sand-translate-center scale(0.75);
					opacity: 1;
				}
			}
		});
	}

	// Knob
	.knob {
		@activate-transition-function: cubic-bezier(0.15, 0.85, 0.6, 1.65);
		//@slide-transition-function:    cubic-bezier(0.15, 0.85, 0.53, 1.09);

		//-webkit-transition: -webkit-transform @slide-transition-function 0.2s;
		//transition:                 transform @slide-transition-function 0.2s;

		&::before {
			width: (@sand-video-player-slider-knob-size * 2);
			height: (@sand-video-player-slider-knob-size * 2);
			border-width: 0;
			border-radius: @sand-video-player-slider-knob-size;
			-webkit-transform: @sand-translate-center scale(0.5);
			transform:         @sand-translate-center scale(0.5);
			opacity: 0;
			will-change: transform, opacity;
			-webkit-transition: -webkit-transform @activate-transition-function 0.2s, opacity ease 0.2s;
			transition:                 transform @activate-transition-function 0.2s, opacity ease 0.2s;
		}
	}

	&.scrubbing {
		.knob {
			display: block;
		}
	}

	// Status Indicator
	.status-indicator {
		.sand-slider-popup-center {
			font-family: @sand-font-family;
			font-size: @sand-video-player-indicator-text-size;
			line-height: 72px;
			position: absolute;	// Allows flip-h to work
			margin: 0 60px;
		}
	}
}

.applySkins({
	.sliderFrame {
		.slider {
			.knob {
				&::before {
					background-color: @sand-video-player-slider-knob-color;
				}
			}
		}

		// Status Indicator
		.status-indicator {
			.sand-slider-popup-center {
				color: @sand-video-player-indicator-text-color;
				text-shadow: @sand-video-player-title-text-shadow;

				.sand-icon {
					color: inherit;
				}
			}
		}
	}
});