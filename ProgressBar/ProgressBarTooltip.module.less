// ProgressBarTooltip.module.less
//
@import '../styles/variables.less';
@import '../styles/mixins.less';

.tooltip {
	--tooltip-progress-proportion: 0;
	--tooltip-progress-percent: ~"calc(var(--tooltip-progress-proportion) * 100%)";
	--tooltip-calculated-offset: ~"var(--sand-tooltip-offset, 0px)";

	@offset-large: 0;

	.tooltipLabel {
		.sand-font-number();
	}

	.before (@ruleset) {
		&.left,
		&.before,
		:global(.enact-locale-right-to-left) &.after {
			@ruleset();
		}
	}

	.after (@ruleset) {
		&.right,
		&.after,
		:global(.enact-locale-right-to-left) &.before {
			@ruleset();
		}
	}

	&.horizontal {
		left: var(--tooltip-progress-percent);

		&.above {
			bottom: @sand-progressbar-tooltip-above-offset;

			.sand-custom-text({
				bottom: ~"calc(var(--tooltip-calculated-offset) + " @offset-large ~")";
			});
		}

		&.below {
			top: @sand-progressbar-tooltip-below-offset;

			.sand-custom-text({
				top: ~"calc(var(--tooltip-calculated-offset) + " @offset-large ~")";
			});
		}
	}

	&.vertical {
		bottom: var(--tooltip-progress-percent);

		// Left side
		.before({
			right: @sand-progressbar-tooltip-before-offset;

			.sand-custom-text({
				transform: translate(~"calc(var(--tooltip-calculated-offset) * -1 - " @offset-large ~")", 50%);
			});
		});

		// Right side
		.after({
			left: @sand-progressbar-tooltip-after-offset;

			.sand-custom-text({
				transform: translate(~"calc(var(--tooltip-calculated-offset) + " @offset-large ~")", 50%);
			});
		});
	}

	&.radial {
		left: 50%;
		bottom: 50%;

		&.above,
		&.below {
			.before({
				left: 50%;
			});

			.after({
				left: 50%;
			});

			&.center {
				left: 50%;
			}
		}

		&.center {
			&.above {
				bottom: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}
			&.below {
				top: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}
		}

		.before({
			left: -@sand-progressbar-tooltip-radial-offset;

			&.above {
				bottom: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}
			&.below {
				top: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}
		});

		.after({
			left: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";

			&.above {
				bottom: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}

			&.below {
				top: ~"calc(100% + " @sand-progressbar-tooltip-radial-offset ~")";
			}
		});
	}
}
